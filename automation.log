(venv) PS C:\Automation\automation_suite> behave --tags=@invalid_login
Feature: Comments Screen # features/comments_screen.feature:1

  Scenario: Open Comments Screen                 # features/comments_screen.feature:3  
    Given I am logged in to the application      # None
    When I open the Comments screen              # None
    Then the Comments screen should be displayed # None

Feature: Dashboard Screen # features/dashboard_screen.feature:1

  Scenario: Open Dashboard Screen                 # features/dashboard_screen.feature:3
    Given I am logged in to the application       # None
    When I open the Dashboard screen              # None
    Then the Dashboard screen should be displayed # None

Feature: Historical Trader Blotter Screen # features/historical_trader_blotter_screen.feature:1

  Scenario: Open Historical Trader Blotter Screen                 # features/historical_trader_blotter_screen.feature:3
    Given I am logged in to the application                       # None
    When I open the Historical Trader Blotter screen              # None
    Then the Historical Trader Blotter screen should be displayed # None

Feature: User Login # features/login.feature:1

  Scenario: Successful login                  # features/login.feature:3
    Given the OpenFin application is launched # None
    When I enter valid credentials            # None
    Then I should be logged in successfully   # None

  @invalid_login
  Scenario: Unsuccessful login with invalid credentials  # features/login.feature:9
    Given the OpenFin application is launched            # steps/login_steps.py:11
2025-03-06 18:46:44,461 - INFO - Launching the OpenFin application...
2025-03-06 18:46:44,519 - INFO - Launching OpenFin application...
fins://fo-openfin.uat.apps.uk.mizuho-sc.com/user/ranaka
2025-03-06 18:46:59,659 - INFO - Waiting for the Mizuho login window to appear...
2025-03-06 18:47:07,242 - INFO - Found window: Mizuho Front Office
2025-03-06 18:47:07,244 - INFO - OpenFin application launched.
    When I enter invalid credentials                     # steps/login_steps.py:23
2025-03-06 18:47:07,246 - INFO - Entering invalid credentials...
2025-03-06 18:47:07,752 - INFO - Found window: Mizuho Front Office
2025-03-06 18:47:07,754 - INFO - Filling in login credentials...
2025-03-06 18:47:09,940 - INFO - Login attempt made.
2025-03-06 18:47:09,942 - INFO - Invalid credentials entered.
2025-03-06 18:47:10,444 - INFO - Error message validated successfully.
    Then I should see an error message                   # steps/login_steps.py:40
      Traceback (most recent call last):
        File "C:\Automation\automation_suite\venv\Lib\site-packages\behave\model.py", line 1329, in run
          match.run(runner.context)
          ~~~~~~~~~^^^^^^^^^^^^^^^^
        File "C:\Automation\automation_suite\venv\Lib\site-packages\behave\matchers.py", line 98, in run
          self.func(context, *args, **kwargs)
          ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "steps\login_steps.py", line 42, in step_impl
          assert context.result is False, "Error message not displayed for invalid login."
                 ^^^^^^^^^^^^^^
        File "C:\Automation\automation_suite\venv\Lib\site-packages\behave\runner.py", line 321, in __getattr__
          raise AttributeError(msg)
      AttributeError: 'Context' object has no attribute 'result'

      Captured logging:
      INFO:builtins:Launching the OpenFin application...
      INFO:automation:Launching OpenFin application...
      INFO:automation:Waiting for the Mizuho login window to appear...
      INFO:automation:Found window: Mizuho Front Office
      INFO:builtins:OpenFin application launched.
      INFO:builtins:Entering invalid credentials...
      INFO:automation:Found window: Mizuho Front Office
      INFO:automation:Filling in login credentials...
      INFO:automation:Login attempt made.
      INFO:builtins:Invalid credentials entered.
      INFO:automation:Error message validated successfully.


Feature: User Logout # features/logout.feature:1

  Scenario: Successful logout                # features/logout.feature:3
    Given I am logged in to the application  # None
    When I log out                           # None
    Then I should be logged out successfully # None

Feature: Position Manager Screen # features/position_manager_screen.feature:1

  Scenario: Open Position Manager Screen                 # features/position_manager_screen.feature:3
    Given I am logged in to the application              # None
    When I open the Position Manager screen              # None
    Then the Position Manager screen should be displayed # None

Feature: Sales Blotter Screen # features/sales_blotter_screen.feature:1

  Scenario: Open Sales Blotter Screen                 # features/sales_blotter_screen.feature:3
    Given I am logged in to the application           # None
    When I open the Sales Blotter screen              # None
    Then the Sales Blotter screen should be displayed # None

Feature: Settings Screen # features/settings_screen.feature:1

  Scenario: Open Settings Screen                 # features/settings_screen.feature:3
    Given I am logged in to the application      # None
    When I open the Settings screen              # None
    Then the Settings screen should be displayed # None

Feature: Trader Blotter Screen # features/trader_blotter_screen.feature:1

  Scenario: Open Trader Blotter Screen                 # features/trader_blotter_screen.feature:3
    Given I am logged in to the application            # None
(venv) PS C:\Automation\automation_suite> behave --tags=@valid_login  
Feature: Comments Screen # features/comments_screen.feature:1

  Scenario: Open Comments Screen                 # features/comments_screen.feature:3  
    Given I am logged in to the application      # None
    When I open the Comments screen              # None
    Then the Comments screen should be displayed # None

Feature: Dashboard Screen # features/dashboard_screen.feature:1

  Scenario: Open Dashboard Screen                 # features/dashboard_screen.feature:3
    Given I am logged in to the application       # None
    When I open the Dashboard screen              # None
    Then the Dashboard screen should be displayed # None

Feature: Historical Trader Blotter Screen # features/historical_trader_blotter_screen.feature:1

  Scenario: Open Historical Trader Blotter Screen                 # features/historical_trader_blotter_screen.feature:3
    Given I am logged in to the application                       # None
    When I open the Historical Trader Blotter screen              # None
    Then the Historical Trader Blotter screen should be displayed # None

Feature: User Login # features/login.feature:1

  @valid_login
  Scenario: Successful login                  # features/login.feature:4
    Given the OpenFin application is launched # steps/login_steps.py:11
2025-03-06 18:48:54,497 - INFO - Launching the OpenFin application...
2025-03-06 18:48:54,499 - INFO - Launching OpenFin application...
fins://fo-openfin.uat.apps.uk.mizuho-sc.com/user/ranaka
2025-03-06 18:49:09,588 - INFO - Waiting for the Mizuho login window to appear...
2025-03-06 18:49:14,839 - INFO - Found window: Mizuho Front Office
2025-03-06 18:49:14,841 - INFO - OpenFin application launched.
    When I enter valid credentials            # steps/login_steps.py:17
2025-03-06 18:49:14,843 - INFO - Entering valid credentials...
      Traceback (most recent call last):
        File "C:\Automation\automation_suite\venv\Lib\site-packages\behave\model.py", line 1329, in run
          match.run(runner.context)
          ~~~~~~~~~^^^^^^^^^^^^^^^^
        File "C:\Automation\automation_suite\venv\Lib\site-packages\behave\matchers.py", line 98, in run
          self.func(context, *args, **kwargs)
          ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "steps\login_steps.py", line 20, in step_impl
          login_with_credentials(context.dlg, context.config.userdata['username'], context.config.userdata['password'])
                                              ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
      KeyError: 'username'

      Captured logging:
      INFO:builtins:Launching the OpenFin application...
      INFO:automation:Launching OpenFin application...
      INFO:automation:Waiting for the Mizuho login window to appear...
      INFO:automation:Found window: Mizuho Front Office
      INFO:builtins:OpenFin application launched.
      INFO:builtins:Entering valid credentials...

    Then I should be logged in successfully   # None

  @invalid_login
  Scenario: Unsuccessful login with invalid credentials  # features/login.feature:10
    Given the OpenFin application is launched            # None
    When I enter invalid credentials                     # None
    Then I should see an error message                   # None

Feature: User Logout # features/logout.feature:1

  Scenario: Successful logout                # features/logout.feature:3
    Given I am logged in to the application  # None
    When I log out                           # None
    Then I should be logged out successfully # None

Feature: Position Manager Screen # features/position_manager_screen.feature:1

  Scenario: Open Position Manager Screen                 # features/position_manager_screen.feature:3
    Given I am logged in to the application              # None
    When I open the Position Manager screen              # None
    Then the Position Manager screen should be displayed # None

Feature: Sales Blotter Screen # features/sales_blotter_screen.feature:1

  Scenario: Open Sales Blotter Screen                 # features/sales_blotter_screen.feature:3
    Given I am logged in to the application           # None
    When I open the Sales Blotter screen              # None
    Then the Sales Blotter screen should be displayed # None

Feature: Settings Screen # features/settings_screen.feature:1

  Scenario: Open Settings Screen                 # features/settings_screen.feature:3
    Given I am logged in to the application      # None
    When I open the Settings screen              # None
    Then the Settings screen should be displayed # None

Feature: Trader Blotter Screen # features/trader_blotter_screen.feature:1

  Scenario: Open Trader Blotter Screen                 # features/trader_blotter_screen.feature:3
    Given I am logged in to the application            # None
    When I open the Trader Blotter screen              # None
    Then the Trader Blotter screen should be displayed # None


Failing scenarios:
  features/login.feature:4  Successful login

0 features passed, 1 failed, 8 skipped
0 scenarios passed, 1 failed, 9 skipped
1 step passed, 1 failed, 28 skipped, 0 undefined
Took 0m20.349s
(venv) PS C:\Automation\automation_suite> 